<ejs-schedule #agenda width='100%' height='550px' [selectedDate]="selectedDate" [eventSettings]="eventSettings"
    (actionBegin)="onActionBegin($event)" (popupOpen)="onPopupOpen($event)" (eventRendered)="onEventRendered($event)"
    [showQuickInfo]="showQuickInfo">
    <e-views>
        <e-view option="Day"></e-view>
        <e-view option="Week"></e-view>
        <e-view option="WorkWeek"></e-view>
        <e-view option="Month"></e-view>       
    </e-views>
    
    <ng-template #editorTemplate>
        <form [formGroup]="maintenanceForm" class="form-horizontal" novalidate="">
            <div class="form-row">
                <div class="form-group col-md-6">
                    <div class="e-float-input e-control-wrapper">
                        <ejs-dropdownlist id="Repeat" formControlName="repeat" [dataSource]='lrepeat'
                            (change)='onChange($event)' [fields]="{text:'repeat',value:'repeat' }" placeholder="repeat"
                            popupHeight='200px' floatLabelType='Always' #repeat></ejs-dropdownlist>
                    </div>
                </div>
            </div>
            <div class="form-row">
                <div class="form-group col-md-6">
                    <ejs-datetimepicker format='dd-MM-yyyy HH:mm' placeholder="Start Date" #StartDate></ejs-datetimepicker>
                </div>
                <div class="form-group col-md-6">
                    <ejs-datetimepicker format='dd-MM-yyyy HH:mm' placeholder="End Date"#EndDate></ejs-datetimepicker>
                </div>
            </div>
            <div *ngIf="repeat.value">
                <div [ngSwitch]="repeat.value">
                    <div *ngSwitchCase="'Daily'">
                        <div class="form-row">
                            <div class="form-group col-md-6 mt-3">
                                <label for="interval" class="e-float-text">Interval Day(s)</label>
                                <div class="e-float-input e-control-wrapper">
                                    <ejs-numerictextbox format='###.##' placeholder="Repeat Every" decimals='0' value="0" min="0"
                                        max="100" step="1" #interval></ejs-numerictextbox>
                                </div>
                            </div>

                            <div class="form-group col-md-6">

                                <div class="e-float-input e-control-wrapper">
                                    <ejs-dropdownlist id="End" formControlName="end" [dataSource]='lEnd'
                                        (change)='onChange($event)' [fields]="{text:'end',value:'end' }"
                                        placeholder="End" popupHeight='200px' floatLabelType='Always' #end>
                                    </ejs-dropdownlist>
                                </div>
                                <div class="mt-3">
                                    <div *ngIf="end.value === 'Until'">
                                        <div id="wrapper">
                                            <ejs-datepicker format='dd-MM-yyyy' [value]='dateValue' [min]='minDate'#end></ejs-datepicker>
                                        </div>

                                    </div>
                                    <div *ngIf="end.value === 'Count'">
                                        <ejs-numerictextbox format='###.##'  placeholder="Count" decimals='0' value="0" min="0"
                                        max="100" step="1"#end></ejs-numerictextbox>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-row">

                        </div>
                    </div>
                    <div *ngSwitchCase="'Weekly'">
                        <div class="form-row">
                            <div class="form-group col-md-6">
                                <label for="periodicity" class="e-float-text">Interval Week(s)</label>
                                <div class="e-float-input e-control-wrapper">
                                    <ejs-numerictextbox placeholder="Repeat Every" decimals='0' value="0" min="0"
                                        max="100" step="1"></ejs-numerictextbox>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>


        </form>
    </ng-template>
   
</ejs-schedule>
